{"filter":false,"title":"AIEntity.js","tooltip":"/js/entities/AIEntity.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":42,"column":25},"end":{"row":43,"column":0},"action":"insert","lines":["",""]},{"start":{"row":43,"column":0},"end":{"row":43,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":7},"end":{"row":43,"column":8},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":8},"end":{"row":43,"column":9},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":16},"end":{"row":43,"column":18},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":17},"end":{"row":43,"column":19},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":18},"end":{"row":43,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":19},"end":{"row":43,"column":20},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":20},"end":{"row":43,"column":21},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":21},"end":{"row":43,"column":22},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":22},"end":{"row":43,"column":23},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":25},"end":{"row":43,"column":26},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":26},"end":{"row":44,"column":0},"action":"insert","lines":["",""]},{"start":{"row":44,"column":0},"end":{"row":44,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":7},"end":{"row":44,"column":8},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":8},"end":{"row":44,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":9},"end":{"row":44,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":10},"end":{"row":44,"column":11},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":12},"end":{"row":44,"column":13},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":13},"end":{"row":44,"column":14},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":14},"end":{"row":44,"column":15},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":15},"end":{"row":44,"column":16},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":16},"end":{"row":44,"column":17},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":17},"end":{"row":44,"column":18},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":18},"end":{"row":44,"column":19},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":19},"end":{"row":45,"column":0},"action":"insert","lines":["",""]},{"start":{"row":45,"column":0},"end":{"row":45,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":7},"end":{"row":45,"column":7},"action":"remove","lines":["return true;","       "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":7},"end":{"row":44,"column":7},"action":"remove","lines":["this.move(\"right\");","       "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":7},"end":{"row":44,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":7},"end":{"row":43,"column":14},"action":"remove","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":7},"end":{"row":43,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":7},"end":{"row":36,"column":52},"action":"remove","lines":["","        var initialShape;","        if (settings.initialShape && (typeof (settings.initialShape) === \"function\")) {","            initialShape = settings.initialShape();","        } else if (settings.getTMXShapes && (typeof (settings.getTMXShapes) === \"function\")) {","            initialShape = settings.getTMXShapes();","        } else {","            initialShape = me.TMXObject.__methods__.getTMXShapes.apply({","            width: settings.width, height: settings.height, rotation: 0});","            //ninja-edit: controversial? PS: rotation can be something besides 0, but I simplified that here","        }","        ","        this.body = new me.Body(this, initialShape);"]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":4},"end":{"row":25,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":4},"end":{"row":25,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":8},"end":{"row":27,"column":37},"action":"remove","lines":["this.body.setVelocity(3, 15);"]},{"start":{"row":27,"column":8},"end":{"row":29,"column":42},"action":"insert","lines":["this.body.setVelocity(0.35, 0.9);","        this.body.setMaxVelocity(3.5, 15.0);","        this.body.setFriction(0.05, 0.01);"]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":0},"end":{"row":25,"column":4},"action":"remove","lines":["    "]},{"start":{"row":26,"column":0},"end":{"row":26,"column":4},"action":"remove","lines":["    "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"remove","lines":["    "]},{"start":{"row":28,"column":0},"end":{"row":28,"column":4},"action":"remove","lines":["    "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":0},"end":{"row":25,"column":4},"action":"remove","lines":["    "]},{"start":{"row":26,"column":0},"end":{"row":26,"column":4},"action":"remove","lines":["    "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"remove","lines":["    "]},{"start":{"row":28,"column":0},"end":{"row":28,"column":4},"action":"remove","lines":["    "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":0},"end":{"row":25,"column":4},"action":"insert","lines":["    "]},{"start":{"row":26,"column":0},"end":{"row":26,"column":4},"action":"insert","lines":["    "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"insert","lines":["    "]},{"start":{"row":28,"column":0},"end":{"row":28,"column":4},"action":"insert","lines":["    "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":0},"end":{"row":25,"column":4},"action":"insert","lines":["    "]},{"start":{"row":26,"column":0},"end":{"row":26,"column":4},"action":"insert","lines":["    "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"insert","lines":["    "]},{"start":{"row":28,"column":0},"end":{"row":28,"column":4},"action":"insert","lines":["    "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"remove","lines":["    "]},{"start":{"row":4,"column":0},"end":{"row":4,"column":4},"action":"remove","lines":["    "]},{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"remove","lines":["    "]},{"start":{"row":6,"column":0},"end":{"row":6,"column":4},"action":"remove","lines":["    "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"remove","lines":["    "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"remove","lines":["    "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"remove","lines":["    "]},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"remove","lines":["    "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"remove","lines":["    "]},{"start":{"row":12,"column":0},"end":{"row":12,"column":4},"action":"remove","lines":["    "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"remove","lines":["    "]},{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"remove","lines":["    "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"remove","lines":["    "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"remove","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"remove","lines":["    "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"remove","lines":["    "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"remove","lines":["    "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"remove","lines":["    "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"remove","lines":["    "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"remove","lines":["    "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":4},"action":"remove","lines":["    "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":3,"column":3},"action":"remove","lines":["   "]},{"start":{"row":4,"column":0},"end":{"row":4,"column":3},"action":"remove","lines":["   "]},{"start":{"row":5,"column":0},"end":{"row":5,"column":3},"action":"remove","lines":["   "]},{"start":{"row":6,"column":0},"end":{"row":6,"column":3},"action":"remove","lines":["   "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":3},"action":"remove","lines":["   "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":3},"action":"remove","lines":["   "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":3},"action":"remove","lines":["   "]},{"start":{"row":10,"column":0},"end":{"row":10,"column":3},"action":"remove","lines":["   "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":3},"action":"remove","lines":["   "]},{"start":{"row":12,"column":0},"end":{"row":12,"column":3},"action":"remove","lines":["   "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":3},"action":"remove","lines":["   "]},{"start":{"row":14,"column":0},"end":{"row":14,"column":3},"action":"remove","lines":["   "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"remove","lines":["   "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":3},"action":"remove","lines":["   "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":3},"action":"remove","lines":["   "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":3},"action":"remove","lines":["   "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":3},"action":"remove","lines":["   "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":3},"action":"remove","lines":["   "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":3},"action":"remove","lines":["   "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":3},"action":"remove","lines":["   "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":3},"action":"remove","lines":["   "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":3},"action":"remove","lines":["   "]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"insert","lines":["    "]},{"start":{"row":4,"column":0},"end":{"row":4,"column":4},"action":"insert","lines":["    "]},{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "]},{"start":{"row":6,"column":0},"end":{"row":6,"column":4},"action":"insert","lines":["    "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"insert","lines":["    "]},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"insert","lines":["    "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"insert","lines":["    "]},{"start":{"row":12,"column":0},"end":{"row":12,"column":4},"action":"insert","lines":["    "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"insert","lines":["    "]},{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"insert","lines":["    "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"insert","lines":["    "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"insert","lines":["    "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"insert","lines":["    "]},{"start":{"row":4,"column":0},"end":{"row":4,"column":4},"action":"insert","lines":["    "]},{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "]},{"start":{"row":6,"column":0},"end":{"row":6,"column":4},"action":"insert","lines":["    "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"insert","lines":["    "]},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"insert","lines":["    "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"insert","lines":["    "]},{"start":{"row":12,"column":0},"end":{"row":12,"column":4},"action":"insert","lines":["    "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"insert","lines":["    "]},{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"insert","lines":["    "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"insert","lines":["    "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"insert","lines":["    "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":64},"end":{"row":26,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":28,"column":42},"action":"remove","lines":["        this.time            = me.timer.getTime();","        this.attackCooldown  = 1000;","        this.moving          = false;","","        this.body.collisionType = me.collision.types.NPC_OBJECT;","        this.body.setVelocity(0.35, 0.9);","        this.body.setMaxVelocity(3.5, 15.0);","        this.body.setFriction(0.05, 0.01);"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":8},"end":{"row":21,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":4},"end":{"row":20,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":20},"end":{"row":20,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":8},"end":{"row":13,"column":42},"action":"insert","lines":["        this.time            = me.timer.getTime();","        this.attackCooldown  = 1000;","        this.moving          = false;","","        this.body.collisionType = me.collision.types.NPC_OBJECT;","        this.body.setVelocity(0.35, 0.9);","        this.body.setMaxVelocity(3.5, 15.0);","        this.body.setFriction(0.05, 0.01);"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":42},"end":{"row":14,"column":0},"action":"insert","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":14,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":8},"end":{"row":6,"column":16},"action":"remove","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":11},"end":{"row":36,"column":32},"action":"remove","lines":[" this.body.vel.x = 0;"]},{"start":{"row":36,"column":11},"end":{"row":42,"column":13},"action":"insert","lines":["if(this.body.vel.x > 0) {","                this.body.vel.x -= this.body.accel.x * me.timer.tick;","            } else if(this.body.vel.x < 0) {","                this.body.vel.x += this.body.accel.x * me.timer.tick;","            } else {","                this.body.vel.x = 0;","            }"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"remove","lines":["    "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"remove","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"remove","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"remove","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"remove","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"remove","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"remove","lines":["    "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"remove","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"remove","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"remove","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"remove","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"remove","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":3},"action":"remove","lines":["   "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"remove","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"remove","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"remove","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"remove","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"remove","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"insert","lines":["    "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"insert","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"insert","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"insert","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"insert","lines":["    "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"insert","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"insert","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"insert","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"insert","lines":["    "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"insert","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"insert","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"insert","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":3},"end":{"row":115,"column":5},"action":"remove","lines":["","   jump: function() {","        // make sure we are not already jumping or falling","        if (!this.body.jumping && !this.body.falling) {","            // set current vel to the maximum defined value","            // gravity will then do the rest","            this.body.vel.y = -this.body.maxVel.y * me.timer.tick;","            // set the jumping flag","            this.body.jumping = true;","            ","            this.renderable.setCurrentAnimation(\"jump\");","        }","   },","   ","   move: function(direction) {","       if(direction === \"left\") {","            // flip the sprite on horizontal axis","            this.renderable.flipX(true);","            // update the entity velocity","            this.body.vel.x -= this.body.accel.x * me.timer.tick;","            // change to the walking animation","            if (!this.renderable.isCurrentAnimation(\"run\")) {","                this.renderable.setCurrentAnimation(\"run\");","            }","       } else {","            // unflip the sprite","            this.renderable.flipX(false);","            // update the entity velocity","            this.body.vel.x += this.body.accel.x * me.timer.tick;","            // change to the walking animation","            if (!this.renderable.isCurrentAnimation(\"run\")) {","                this.renderable.setCurrentAnimation(\"run\");","            }","       }","       ","       this.moving = true;","   },"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":3},"end":{"row":80,"column":3},"action":"remove","lines":["","   "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":3},"end":{"row":90,"column":4},"action":"remove","lines":["","   shoot: function() {","        if(!this.canAttack){","            return;","        }","        ","        this.time = me.timer.getTime();","        this.canAttack = false;","        ","        var projectile = me.pool.pull(\"ProjectileEntity\", (this.renderable.lastflipX === false) ? (this.pos.x + 60) : (this.pos.x - 60), this.pos.y + 20, { image: 'projectile_blue', velocity: { x: (this.renderable.lastflipX === false) ? 8 : -16, y: 0 }, owner: this });","        me.game.world.addChild(projectile, this.z);","   }"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":5},"end":{"row":80,"column":3},"action":"remove","lines":["","   ","   "]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":4},"end":{"row":78,"column":5},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":25},"end":{"row":31,"column":0},"action":"insert","lines":["",""]},{"start":{"row":31,"column":0},"end":{"row":31,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":7},"end":{"row":99,"column":72},"action":"insert","lines":["//Make sure we're alive!","        if(this.alive === false) {","            return false;","        }","        ","        //Invoke super","        this._super(me.CustomEntity, 'update', [dt]);","        ","        //Check if we can attack again","        if(this.canAttack === false) {","            if (me.timer.getTime() - this.time > this.attackCooldown) {","                this.canAttack = true;","            }","        }","        ","        //Did we stop moving? if so, slow down","        if(!this.moving) {","            if(this.body.vel.x > 0) {","                this.body.vel.x -= this.body.accel.x * me.timer.tick;","            } else if(this.body.vel.x < 0) {","                this.body.vel.x += this.body.accel.x * me.timer.tick;","            } else {","                this.body.vel.x = 0;","            }","        }","        ","        //Make sure our jump animation doesn't loop","        if (!this.body.jumping && !this.body.falling && this.renderable.isCurrentAnimation(\"jump\")) {","            this.renderable.setCurrentAnimation(\"stand\");","        }","        ","        //Directional controls","        if (me.input.isKeyPressed('left')) {","            this.move(\"left\");","        } else if (me.input.isKeyPressed('right')) {","            this.move(\"right\");","        } else {","            if(this.body.vel.x > 0) {","                this.body.vel.x -= this.body.accel.x * me.timer.tick;","            } else if(this.body.vel.x < 0) {","                this.body.vel.x += this.body.accel.x * me.timer.tick;","            } else {","                this.body.vel.x = 0;","            }","            ","            // change to the standing animation","            if (this.body.jumping === false && !this.renderable.isCurrentAnimation(\"attack\")) {","                this.renderable.setCurrentAnimation(\"stand\");","            }","        }","        ","        //Jump","        if (me.input.isKeyPressed('jump')) {","            this.jump();","        }","        ","        //Attack","        if(me.input.isKeyPressed(\"attack\")) {","            this.shoot();","        }","        ","        // apply physics to the body (this moves the entity)","        this.body.update(dt);","","        // handle collisions against other shapes","        me.collision.check(this);","        ","        // return true if we moved or if the renderable was updated","        return (this.body.vel.x !== 0 || this.body.vel.y !== 0 || true);"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":72},"end":{"row":100,"column":0},"action":"insert","lines":["",""]},{"start":{"row":100,"column":0},"end":{"row":100,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":7},"end":{"row":31,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":8},"end":{"row":38,"column":8},"action":"remove","lines":["","        //Invoke super","        this._super(me.CustomEntity, 'update', [dt]);","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":8},"end":{"row":77,"column":9},"action":"remove","lines":["","        //Directional controls","        if (me.input.isKeyPressed('left')) {","            this.move(\"left\");","        } else if (me.input.isKeyPressed('right')) {","            this.move(\"right\");","        } else {","            if(this.body.vel.x > 0) {","                this.body.vel.x -= this.body.accel.x * me.timer.tick;","            } else if(this.body.vel.x < 0) {","                this.body.vel.x += this.body.accel.x * me.timer.tick;","            } else {","                this.body.vel.x = 0;","            }","            ","            // change to the standing animation","            if (this.body.jumping === false && !this.renderable.isCurrentAnimation(\"attack\")) {","                this.renderable.setCurrentAnimation(\"stand\");","            }","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":8},"end":{"row":69,"column":8},"action":"remove","lines":["","        ","        //Jump","        if (me.input.isKeyPressed('jump')) {","            this.jump();","        }","        ","        //Attack","        if(me.input.isKeyPressed(\"attack\")) {","            this.shoot();","        }","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":8},"end":{"row":94,"column":8},"action":"remove","lines":["","        if(this.alive === false) {","            return false;","        }","        ","        if(!this.moving) {","            if(this.body.vel.x > 0) {","                this.body.vel.x -= this.body.accel.x * me.timer.tick;","            } else if(this.body.vel.x < 0) {","                this.body.vel.x += this.body.accel.x * me.timer.tick;","            } else {","                this.body.vel.x = 0;","            }","        }","        ","       if(this.canAttack === false) {","            if (me.timer.getTime() - this.time > this.attackCooldown) {","                this.canAttack = true;","            }","        }","        ","       if(this.body.vel.y == 0) {","            this.body.jumping = false;","            if(this.renderable.isCurrentAnimation(\"jump\")) {","                this.renderable.setCurrentAnimation(\"stand\");","            }","        }","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":65,"column":8},"end":{"row":67,"column":8},"action":"remove","lines":["// return true if we moved or if the renderable was updated","        return (this.body.vel.x !== 0 || this.body.vel.y !== 0 || true);","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":8},"end":{"row":65,"column":8},"action":"remove","lines":["// apply physics to the body (this moves the entity)","        this.body.update(dt);","","        // handle collisions against other shapes","        me.collision.check(this);","        ","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"remove","lines":["    "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"remove","lines":["    "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"remove","lines":["    "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"remove","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"remove","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"remove","lines":["    "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":3},"action":"remove","lines":["   "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":3},"action":"remove","lines":["   "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"remove","lines":["    "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"remove","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"remove","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"remove","lines":["    "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":3},"action":"remove","lines":["   "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":0},"end":{"row":62,"column":3},"action":"remove","lines":["   "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":3},"action":"remove","lines":["   "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"remove","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":3},"action":"remove","lines":["   "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":53},"end":{"row":79,"column":0},"action":"insert","lines":["",""]},{"start":{"row":79,"column":0},"end":{"row":79,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":7},"end":{"row":79,"column":8},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":79,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":9},"end":{"row":79,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":11},"end":{"row":79,"column":12},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":12},"end":{"row":79,"column":13},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":13},"end":{"row":79,"column":14},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":14},"end":{"row":79,"column":15},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":15},"end":{"row":79,"column":16},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":16},"end":{"row":79,"column":17},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":17},"end":{"row":79,"column":18},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":18},"end":{"row":79,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":19},"end":{"row":79,"column":20},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":53},"end":{"row":79,"column":20},"action":"remove","lines":["","       return false;"]}]}]]},"ace":{"folds":[],"scrolltop":714,"scrollleft":0,"selection":{"start":{"row":78,"column":53},"end":{"row":78,"column":53},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1421485056188,"hash":"31da34746685a86823f4e03f1bb90dd40162fccb"}